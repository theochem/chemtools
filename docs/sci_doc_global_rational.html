

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rational Energy Model &mdash; ChemTools 0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/chemtools_favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="ChemTools 0.0 documentation" href="index.html"/>
        <link rel="up" title="Global Descriptive Tools" href="sci_doc_globaltool.html"/>
        <link rel="next" title="Exponential Energy Model" href="sci_doc_global_exponential.html"/>
        <link rel="prev" title="Quadratic Energy Model" href="sci_doc_global_quadratic.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

  <style type="text/css">
  #content {
      position: relative;
      }
  #content img {
          position: absolute;
	      top: 0px;
	          right: 0px;
		  }
  .rst-content p, .rst-content li {
	    text-align: justify;
	    text-justify: inter-word;
      }
  .tooltip {
      position: relative;
      /*display: inline-block;*/
      /*border-bottom: 5px dotted black;*/
      width: 75px;
      /*min-width: 75px;*/
      /*max-width: 255px;*/
      }

  .tooltip .tooltiptext {
      visibility: hidden;
      width: 180px;
      background-color: rgba(50, 50, 50, 0.8);
      color: #fff;
      text-align: left;
      /*border-radius: 6px;*/
      padding: 4px;
      font-size:12px;
      line-height: 15px;
      /* Position the tooltip */
      position: absolute;
      z-index: 1;
      }

  .tooltip:hover .tooltiptext {
      visibility: visible;
      position: absolute;
      /*left: -70px; -index: 99;*/
      top: 20px;
      }
 </style>
</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ChemTools
          

          
            
            <img src="_static/chemtools_logo2.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="intro_about.html">About ChemTools</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro_citing.html">Citing ChemTools</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro_license.html">Licence Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro_conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro_contact.html">Contact Information</a></li>
</ul>
<p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="usr_doc_installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usr_doc_quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">Examples Gallery</a></li>
</ul>
<p class="caption"><span class="caption-text">Scientific Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="sci_doc_conceptual.html">Conceptual Density Functional Theory</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="sci_doc_globaltool.html">Global Descriptive Tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="sci_doc_global_linear.html">Linear Energy Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="sci_doc_global_quadratic.html">Quadratic Energy Model</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Rational Energy Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="sci_doc_global_exponential.html">Exponential Energy Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="sci_doc_global_general.html">General Energy Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sci_doc_localtool.html">Local Descriptive Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="sci_doc_condensedtool.html">Condensed Descriptive Tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sci_doc_dftbased.html">Density Functional Theory (DFT) Based</a></li>
<li class="toctree-l1"><a class="reference internal" href="sci_doc_orbitaltool.html">Orbital-Based Local Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="sci_doc_nci.html">Non-Covalent Interactions (NCI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sci_doc_zref.html">References</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tech_dev.html">Developer Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech_api.html">API Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ChemTools</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div id=content>
        <a href="https://github.com/theochem/chemtools" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
       </div>
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="sci_doc_conceptual.html">Conceptual Density Functional Theory</a> &raquo;</li>
        
          <li><a href="sci_doc_globaltool.html">Global Descriptive Tools</a> &raquo;</li>
        
      <li>Rational Energy Model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rational-energy-model">
<span id="rational-energy"></span><h1>Rational Energy Model<a class="headerlink" href="#rational-energy-model" title="Permalink to this headline">Â¶</a></h1>
<p>In this model, energy is approximated by a rational function of the number of electrons.
In the most general form, this model can be written as:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[E^{(m,n)}\left(N\right) = \left( \frac{a_0 + a_1N + a_2{N^2} + ... + a_m{N^m}}{1 + b_1N + b_2{N^2} + ... + b_n{N^n}} \right)
             = \frac{\sum_{j=0}^{m} a_j N^j}{1 + \sum_{i=1}^{n} b_i N^i}\]</div>
</div></blockquote>
<p>The number of unknown parameters in this model depends on the values of <span class="math notranslate nohighlight">\(m\)</span> and <span class="math notranslate nohighlight">\(n\)</span>.
Having a set of <span class="math notranslate nohighlight">\(m+n\)</span> values of <span class="math notranslate nohighlight">\(N\)</span> for which the energy is known, the model can be parametrized
by solving a system of linear equations. By rearranging the rational energy expression above,
the equations can be written as:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\sum_{j=0}^{m} \left(N^j\right) a_j - \sum_{i=1}^{n} \left(N^i \cdot E^{(m,n)}\left(N\right) \right) b_i = E^{(m,n)}\left(N\right)\]</div>
</div></blockquote>
<p>Having the parameters <span class="math notranslate nohighlight">\(\{a_j\}_{j=0}^m\)</span> and <span class="math notranslate nohighlight">\(\{b_i\}_{i=1}^n\)</span>, the energy model is known,
and the derivatives of the rational energy model with respect to the number of electrons at fixed external
potential can be calculated.</p>
<p>However, in order to solve for the parameters in this model analytically, a simpler form of the rational energy model
containing three parameters, <span class="math notranslate nohighlight">\(E^{(2,1)}\left(N\right) = E\left(N\right)\)</span>, is considered. For implementing more
complex rational energy models, please refer to the <a class="reference internal" href="sci_doc_global_general.html#general-energy"><span class="std std-ref">general energy model</span></a>.</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[E\left(N\right) = E^{(2,1)}\left(N\right) = \frac{a_0 + a_1 N}{1 + b_1 N}\]</div>
</div></blockquote>
<p>Containing three parameters, <span class="math notranslate nohighlight">\(a_0\)</span>, <span class="math notranslate nohighlight">\(a_1\)</span> and <span class="math notranslate nohighlight">\(b_1\)</span>, this model requires
three values of <span class="math notranslate nohighlight">\(E\left(N\right)\)</span> to interpolate the energy. Commonly, the energy of the system
with <span class="math notranslate nohighlight">\(N_0 - 1\)</span>, <span class="math notranslate nohighlight">\(N_0\)</span> and <span class="math notranslate nohighlight">\(N_0 + 1\)</span> electrons are provided.
Fitting the energy expression to the given energy values results in three equations:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}\begin{cases}
 \left(1 + b_1 \left(N_0 - 1\right)\right) &amp; E\left(N_0-1\right) &amp;&amp;= a_0 + a_1 \left(N_0 - 1\right)  \\
 \left(1 + b_1 N_0\right) &amp; E\left(N_0\right) &amp;&amp;= a_0 + a_1 N_0 \\
 \left(1 + b_1 \left(N_0 + 1\right)\right) &amp; E\left(N_0+1\right) &amp;&amp;= a_0 + a_1 \left(N_0 + 1\right) \\
\end{cases}\end{split}\]</div>
</div></blockquote>
<p>This allows us to solve for the three unknowns:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}b_1 &amp;= -\frac{E\left(N_0 + 1\right) - 2 E\left(N_0\right) + E\left(N_0 - 1\right)}
             {\left(N_0 + 1\right) E\left(N_0 + 1\right) - 2 N_0 E\left(N_0\right) + \left(N_0 - 1\right) E\left(N_0 - 1\right)} \\
a_1 &amp;= \left(1 + b_1 N_0\right) \left(E\left(N_0 + 1\right) - E\left(N_0\right)\right) + b_1 E\left(N_0 + 1\right) \\
a_0 &amp;= - a_1 N_0 + \left(1 + b_1 N_0\right) E\left(N_0\right)\end{split}\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}a_0 &amp;=  \frac{E\left(N_0\right) E\left(N_0-1\right) N_{0} + E\left(N_0\right) E\left(N_0-1\right) + E\left(N_0\right) E\left(N_0+1\right) N_{0} -
            E\left(N_0\right) E\left(N_0+1\right) - 2 E\left(N_0-1\right) E\left(N_0+1\right) N_{0}}{2 E\left(N_0\right) N_{0} - E\left(N_0-1\right) N_{0} + E\left(N_0-1\right) - E\left(N_0+1\right) N_{0} - E\left(N_0+1\right)} \\
a_1 &amp;=  \frac{- E\left(N_0\right) E\left(N_0-1\right) - E\left(N_0\right) E\left(N_0+1\right) + 2 E\left(N_0-1\right) E\left(N_0+1\right)}{2 E\left(N_0\right) N_{0} - E\left(N_0-1\right) N_{0} + E\left(N_0-1\right) - E\left(N_0+1\right) N_{0} - E\left(N_0+1\right)} \\
b_1 &amp;=  \frac{- 2 E\left(N_0\right) + E\left(N_0-1\right) + E\left(N_0+1\right)}{2 E\left(N_0\right) N_{0} - E\left(N_0-1\right) N_{0} + E\left(N_0-1\right) - E\left(N_0+1\right) N_{0} - E\left(N_0+1\right)}\end{split}\]</div>
</div></blockquote>
<p>Due to the complexity of the obtained parameters, we skip substituting them into the energy expression.
However, at this stage, the energy expression can be evaluated for any given number of electrons as
implemented in <code class="xref py py-class docutils literal notranslate"><span class="pre">chemtools.tool.globaltool.RationalGlobalTool.energy</span></code>.</p>
<p>The derivatives of the energy model with respect to the number of electrons at
fixed external potential are:</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}\left( \frac{\partial E}{\partial N} \right)_{v(\mathbf{r})}
     &amp;= \frac{a_1 - a_0 b_1}{\left(1 + b_1 N\right)^2} \\
\left( \frac{\partial^2 E}{\partial N^2} \right)_{v(\mathbf{r})}
     &amp;= \frac{-2 b_1 \left(a_1 - a_0 b_1\right)}{\left(1 + b_1 N\right)^3} \\
\left( \frac{\partial^n E}{\partial N^n} \right)_{v(\mathbf{r})}
     &amp;= \frac{(-b_1)^{n - 1} \left(a_1 - a_0 b_1\right) n!}{\left(1 + b_1 N\right)^{n+1}}\end{split}\]</div>
</div></blockquote>
<p>These derivatives can be evaluated for any number of electrons as implemented
in <code class="xref py py-class docutils literal notranslate"><span class="pre">chemtools.tool.globaltool.RationalGlobalTool.energy_derivative</span></code>.</p>
<p>In the 3-point rational model, evaluating the first-, second-, and higher-order derivatives of energy evaluated
at <span class="math notranslate nohighlight">\(N_0\)</span> gives the following expressions for the chemical potential, chemical hardness, and hyper-hardnesses,</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}\mu = \left. \left( \frac{\partial E}{\partial N} \right)_{v(\mathbf{r})} \right|_{N = N_0}
   &amp;= \frac{a_1 - a_0 b_1}{\left(1 + b_1 N_0\right)^2} \\
\eta = \left. \left( \frac{\partial^2 E}{\partial N^2} \right)_{v(\mathbf{r})} \right|_{N = N_0}
    &amp;= \frac{-2 b_1 \left(a_1 - a_0 b_1\right)}{\left(1 + b_1 N_0\right)^3} \\
\eta^{(2)} = \left. \left( \frac{\partial^3 E}{\partial N^3} \right)_{v(\mathbf{r})} \right|_{N = N_0}
     &amp;= \frac{6 b_1^2 \left(a_1 - a_0 b_1\right)}{\left(1 + b_1 N_0\right)^4} \\
\eta^{(n)} = \left. \left( \frac{\partial^{n+1} E}{\partial N^{n+1}} \right)_{v(\mathbf{r})} \right|_{N = N_0}
     &amp;= \frac{(-b_1)^n \left(a_1 - a_0 b_1\right) \left(n+1\right)!}{\left(1 + b_1 N_0\right)^{n+2}} \text{   for } n\geq2\end{split}\]</div>
</div></blockquote>
<p>These are implemented in <code class="xref py py-class docutils literal notranslate"><span class="pre">chemtools.tool.globaltool.RationalGlobalTool.chemical_potential</span></code>
and <code class="xref py py-class docutils literal notranslate"><span class="pre">chemtools.tool.globaltool.RationalGlobalTool.chemical_hardness</span></code>.</p>
<p>Using these expressions, one can derive the following expressions for the chemical softness and the low-order
hyper-softnesses,</p>
<blockquote>
<div><div class="math notranslate nohighlight">
\[\begin{split}S = - \left. \left( \frac{\partial^2\Omega}{\partial\mu^2} \right)_{v(\mathbf{r})} \right|_{N = N_0}
 &amp;= \frac{1}{\eta} = \frac{-\left(1 + b_1 N_0\right)^3}{2 b_1 \left(a_1 - a_0 b_1\right)} \\
S^{(2)} = - \left. \left( \frac{\partial^{3}\Omega}{\partial\mu^{3}} \right)_{v(\mathbf{r})} \right|_{N = N_0}
       &amp;= -\eta^{(2)} \cdot S^3 \\
       &amp;= -\frac{6 b_1^2 \left(a_1 - a_0 b_1\right)}{\left(1 + b_1 N_0\right)^4}
           \frac{\left(1 + b_1 N_0\right)^9}{2^3 b_1^3 \left(a_1 - a_0 b_1\right)^3}
       = \frac{3 \left(1 + b_1 N_0\right)^5}{4 b_1 \left(a_1 - a_0 b_1\right)^2} \\
S^{(3)} = - \left. \left( \frac{\partial^{4}\Omega}{\partial\mu^{4}} \right)_{v(\mathbf{r})} \right|_{N = N_0}
       &amp;= -\eta^{(3)} \cdot S^4 + 3 \left(\eta^{(2)}\right)^2 \cdot S^5 \\
       &amp;= -\frac{24 b_1^3 \left(a_1 - a_0 b_1\right)}{\left(1 + b_1 N_0\right)^5}
           \frac{\left(1 + b_1 N_0\right)^12}{2^4 b_1^4 \left(a_1 - a_0 b_1\right)^4} \\
       &amp;  + 3\frac{6^2 b_1^4 \left(a_1 - a_0 b_1\right)^2}{\left(1 + b_1 N_0\right)^8}
           \frac{\left(1 + b_1 N_0\right)^15}{2^5 b_1^5 \left(a_1 - a_0 b_1\right)^5} \\
       &amp;= \frac{-15 \left(1 + b_1 N_0\right)^7}{8 b_1 \left(a_1 - a_0 b_1\right)^3}\end{split}\]</div>
</div></blockquote>
<p>ChemTools can also compute higher-order hyper-softnesses, using the (extended) inverse function theorem for
derivatives.</p>
<p>To obtain the <a class="reference internal" href="sci_doc_globaltool.html#global-derived-indicators"><span class="std std-ref">derived global reactivity indicators</span></a> for
the rational energy model, the maximum number of electrons accepted by the system should be calculated.</p>
<blockquote>
<div><div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<ol class="last arabic simple">
<li>Include <span class="math notranslate nohighlight">\(N_{\text{max}}=\infty\)</span> and derived global reactivity tools</li>
</ol>
</div>
</div></blockquote>
<p><strong>References:</strong></p>
<blockquote>
<div><div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<ol class="last arabic simple">
<li>Add references</li>
</ol>
</div>
</div></blockquote>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sci_doc_global_exponential.html" class="btn btn-neutral float-right" title="Exponential Energy Model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sci_doc_global_quadratic.html" class="btn btn-neutral" title="Quadratic Energy Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, ChemTools Dev Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   
  <script type='text/javascript'>
  $(".tooltiptext").hide(); // On very first line of scripts.js file


  $("a").hover(function () {
    var elems = this;
    var curClass = elems.className // current class clicked.
    // var windowHeight = $(".rst-content").height();
    var windowWidth = $(".rst-content").width();

    var left = elems.offsetLeft;
    var top = elems.offsetTop;
    // var linkHeight = $(".tooltip").height();
    // var linkWidth = $(".tooltip").width();
    // var tooltiph = $(".tooltiptext").height();
    var tooltipw = $(".tooltiptext").width();
    // var bottom = windowHeight - top - tooltiph;
    var right = windowWidth - left - tooltipw;

		var isEntirelyVisible = (left + tooltipw <= windowWidth);
    if (!isEntirelyVisible) {
        $(".tooltiptext").css("right", "0px");
    } else  {
        $(".tooltiptext").css("right", "-160px");
    }




    $(".tooltiptext").fadeIn('fast');
},

function () {
});
  </script>
</body>
</html>